# 缓存穿透与缓存雪崩

#### 缓存雪崩
现象: 缓存大量失效，大量请求找不到缓存，直接访问数据库，造成系统崩溃。

如何预防: 1. 保证Redis的高可用，采用集群模式或是主从+哨兵模式。 2. 避免将key的过期时间都设置为同一时间 3. 除了Redis外，使用本地缓存，在Redis失效时，仍能从本地缓存读到部分数据

如何处理缓存雪崩事件:  1. 使用Hystrix进行限流 2. 在Redis恢复后，使用持久化文件快速恢复数据


#### 缓存穿透
现象: 访问不存在的Redis key
如何预防: 1. 将null值也存储到Redis中 2. 使用布隆过滤器(bloom filter)，如果key不存在直接返回，key存在再访问缓存

#### 缓存击穿
现象: 某一key过期后，大量请求访问这个key
如何预防: 加锁访问